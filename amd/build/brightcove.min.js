define(["bc"],function(){var a={};return a.init=function(a){function b(a){videojs.registerPlugin("downloadVideoPlugin",function(){var a,b,c,d=this,e=[];d.on("loadstart",function(){e=[],a=d.mediainfo.name,rendtionsAra=d.mediainfo.sources,b=rendtionsAra.length;for(var f=0;f<b;f++)"MP4"===rendtionsAra[f].container&&rendtionsAra[f].hasOwnProperty("src")&&e.push(rendtionsAra[f]);e.sort(function(a,b){return b.size-a.size}),c=e[0].src,downloadString="<a class='btn btn-secondary' href='"+c+"' download='"+a+"'>Download</a>",document.getElementById("insertionPoint").innerHTML=downloadString})})}function c(a){videojs.registerPlugin("interactiveTranscriptPlugin",function(){var a=this;a.on("loadstart",function(){var b={showTitle:!1,showTrackSelector:!1},c=a.transcript(b),d=a.el().dataset.captions,e=document.createElement("track");e.kind="captions",e.src=d,e.srclang="en",e.label="English",a.el().getElementsByTagName("video")[0].appendChild(e);var f=document.querySelector("#transcript");f.appendChild(c.el())})})}function d(a){videojs.registerPlugin("downloadTranscriptPlugin",function(){var a=this;a.on("loadstart",function(){var b=a.el().dataset.captions,c=new XMLHttpRequest;c.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var a=this.response.replace(/WEBVTT(\n|\r)/,"");a=a.replace(/[0-9]+\:[0-9]{2}\:[0-9]{2}\.[0-9]+\s\-\-\>\s[0-9]+\:[0-9]{2}\:[0-9]{2}\.[0-9]+/g,""),a=a.replace(/\n|\r/g,""),a=a.replace(/\?/g,"?\n"),a=a.replace(/(\.\s)|(\.)/g,".\n");var b=new Blob([a],{type:"text/plain"}),c=window.URL.createObjectURL(b),d="transcript.txt";transcriptDownloadString="<a class='btn btn-secondary' href='"+c+"' download='"+d+"'>Transcript Download</a>",document.getElementById("downloadTranscript").innerHTML=transcriptDownloadString}},c.open("GET",b),c.responseType="text",c.send()})})}b(a),c(a),d(a),videojs(a).downloadVideoPlugin(),videojs(a).interactiveTranscriptPlugin(),videojs(a).downloadTranscriptPlugin()},a});